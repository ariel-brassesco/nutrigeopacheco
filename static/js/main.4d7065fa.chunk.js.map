{"version":3,"sources":["components/page.tsx","store/place/types.ts","store/ui/types.ts","store/ui/actions.ts","services/http.ts","store/place/actions.ts","store/place/reducer.ts","components/header.tsx","components/footer.tsx","pages/home-page.tsx","pages/contact-page.tsx","pages/store-page.tsx","App.js","store/ui/reducer.ts","store/showcase/types.ts","store/showcase/reducer.ts","store/cart/types.ts","store/cart/reducer.ts","store/reducers.ts","store/index.ts","index.js"],"names":["Page","header","children","footer","fullWidth","className","classNames","FETCH_PLACE","START","FINISH","ERROR","startLoading","name","type","types","payload","stopLoading","errorLoading","message","mapData","result","data","handleError","async","error","response","status","window","location","reload","http","constructor","axios","defaults","baseURL","token","localStorage","getItem","this","setAuth","headers","common","get","path","options","then","catch","post","put","patch","delete","apiRoutes","fetchPlace","dispatch","initialState","place","getPlace","state","Header","useDispatch","useSelector","useEffect","console","log","src","logo","alt","href","Footer","surname","instagram","whatsapp","target","rel","email","phone_number","HomePage","ContactPage","StorePage","App","Component","render","exact","component","loading","FETCH_PRODUCTS","FETCH_PROMOTIONS","SHOW_PRODUCT_DETAIL","FILTER_BY_CATEGORY","FILTER_BY_PRODUCT","products","product","promotions","categories","filter","ADD_CART_ITEM","REMOVE_CART_ITEM","UPDATE_CART_ITEM","EMPTY_CART","SHOW_CART","items","show","reducers","combineReducers","ui","undefined","showcase","cart","some","item","id","map","quantity","stock","new_item","item_id","uuidv4","concat","store","createStore","sessionStorage","JSON","parse","e","warn","loadState","composeWithDevTools","applyMiddleware","thunk","subscribe","setItem","stringify","saveState","getState","root","document","getElementById","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.4d7065fa.chunk.js","sourcesContent":["import classNames from \"classnames\";\nimport React, { FC, ReactNode } from \"react\";\n\ntype Props = {\n  header?: ReactNode;\n  footer?: ReactNode;\n  fullWidth?: boolean;\n};\n\nexport const Page: FC<Props> = ({ header, children, footer, fullWidth }) => (\n  <>\n    <div\n      className={classNames(\"mx-auto h-full overflow-auto px-2\", {\n        \"container max-w-screen-xl\": !fullWidth,\n        \"w-full max-page-width\": fullWidth,\n      })}\n    >\n      {header && <div className=\"py-4\">{header}</div>}\n      <div className=\"flex flex-col flex-1 overflow-auto pt-4\">{children}</div>\n    </div>\n    {footer && <>{footer}</>}\n  </>\n);\nexport default Page;\n","export const FETCH_PLACE = \"FETCH_PLACE\";\n","export const START = \"START\";\nexport const FINISH = \"FINISH\";\nexport const ERROR = \"ERROR\";\n","import * as types from \"./types\";\n\nexport const startLoading = (name: string) => ({\n  type: types.START,\n  payload: name,\n});\n\nexport const stopLoading = (name: string) => ({\n  type: types.FINISH,\n  payload: name,\n});\n\nexport const errorLoading = (name: string, message: string = \"Error\") => ({\n  type: types.ERROR,\n  payload: { name, message },\n});\n","import axios, { AxiosRequestConfig, AxiosResponse } from \"axios\";\n// import { logout } from \"../actions/dashboardActions\";\n\ntype Data = Record<string, any>;\n\nconst mapData = (result: AxiosResponse<any>) => result.data;\n\nconst handleError = async (error: Error & { response: AxiosResponse<any> }) => {\n  if (error.response.status === 401) {\n    // await store.dispatch(logout() as any);\n    window.location.reload(true);\n  }\n\n  throw error;\n};\n\nexport class Http {\n  public constructor() {\n    axios.defaults.baseURL = \"/api\";\n    const token = localStorage.getItem(\"token\") ?? \"\";\n    this.setAuth(token);\n  }\n\n  public setAuth(token: string) {\n    if (token) {\n      axios.defaults.headers.common[\"authorization\"] = `JWT ${token}`;\n    } else {\n      delete axios.defaults.headers.common[\"authorization\"];\n    }\n  }\n\n  public get(path: string, options: AxiosRequestConfig = {}) {\n    return axios.get(path, options).then(mapData).catch(handleError);\n  }\n\n  public post(path: string, data: Data, options: AxiosRequestConfig = {}) {\n    return axios.post(path, data, options).then(mapData).catch(handleError);\n  }\n\n  public put(path: string, data: Data, options: AxiosRequestConfig = {}) {\n    return axios.put(path, data, options).then(mapData).catch(handleError);\n  }\n\n  public patch(path: string, data: Data, options: AxiosRequestConfig = {}) {\n    return axios.patch(path, data, options).then(mapData).catch(handleError);\n  }\n\n  public delete(path: string, options: AxiosRequestConfig = {}) {\n    return axios.delete(path, options).then(mapData).catch(handleError);\n  }\n}\n\nexport const http = new Http();\n\nexport const apiRoutes = {\n  products: \"api/products/\",\n  categories: \"api/category/\",\n  promotions: \"api/promotion/\",\n  place: \"api/place/\",\n};\n","import { Dispatch } from \"redux\";\n\nimport * as types from \"./types\";\nimport { errorLoading, startLoading, stopLoading } from \"../ui/actions\";\nimport { apiRoutes, http } from \"../../services/http\";\n\nexport const fetchPlace = () => async (dispatch: Dispatch) => {\n  dispatch(startLoading(types.FETCH_PLACE));\n\n  try {\n    const result = await http.get(apiRoutes.place);\n\n    dispatch({ type: types.FETCH_PLACE, payload: result });\n    dispatch(stopLoading(types.FETCH_PLACE));\n  } catch (error) {\n    dispatch(errorLoading(types.FETCH_PLACE));\n  }\n};\n","import { Reducer } from \"redux\";\nimport { AppState } from \"../reducers\";\nimport { Place } from \"../../types\";\nimport * as types from \"./types\";\n\nexport interface State {\n  place: Partial<Place>;\n}\n\nconst initialState: State = {\n  place: {},\n};\n\nexport const placeReducer: Reducer<State> = (\n  state = initialState,\n  { type, payload }\n) => {\n  switch (type) {\n    case types.FETCH_PLACE:\n      return { ...state, place: payload };\n\n    default:\n      return state;\n  }\n};\n\n// Define getters from the state\nexport const getPlace = (state: AppState) => state.place.place;\n","import React, { FC, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\n// Import Actions\nimport { fetchPlace } from \"../store/place\";\n// Import Getters\nimport { getPlace } from \"../store/place\";\n\nexport const Header: FC = () => {\n  const dispatch = useDispatch();\n  const place = useSelector(getPlace);\n\n  useEffect(() => {\n    dispatch(fetchPlace());\n  }, [dispatch]);\n\n  console.log(place);\n  return (\n    <div className=\"header-main\">\n      <div className=\"header-contact background-fruits--transparent\">\n        <img className=\"header-logo\" src={place.logo} alt=\"\" />\n      </div>\n      <nav className=\"header-nav-bar\">\n        <div className=\"header-menu--mobile\">\n          <span className=\"icon header-menu-icon--mobile\">\n            <i className=\"fas fa-bars\"></i>\n          </span>\n          <p className=\"header-menu__title\">MENU</p>\n        </div>\n        <ul className=\"header-menu\">\n          <li className=\"header-menu__item\">\n            <a className=\"header-menu__link\" href=\"\\\">\n              inicio\n            </a>\n          </li>\n          <li className=\"header-menu__item\">\n            <a className=\"header-menu__link\" href=\"\\tienda\">\n              tienda\n            </a>\n          </li>\n          <li className=\"header-menu__item\">\n            <a className=\"header-menu__link\" href=\"\\contacto\">\n              contacto\n            </a>\n          </li>\n        </ul>\n      </nav>\n    </div>\n  );\n};\n\nexport default Header;\n","import React, { FC, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\n// Import Actions\nimport { fetchPlace } from \"../store/place\";\n// Import Getters\nimport { getPlace } from \"../store/place\";\n\nexport const Footer: FC = () => {\n  const dispatch = useDispatch();\n  const place = useSelector(getPlace);\n\n  useEffect(() => {\n    dispatch(fetchPlace());\n  }, [dispatch]);\n\n  return (\n    <div className=\"footer-social-networks background-fruits--transparent\">\n      <p className=\"footer-title\">{`Lic. ${place.name} ${place.surname}`}</p>\n      <a href={place.instagram} className=\"icon-social-network\">\n        <i className=\"fab fa-2x fa-instagram\"></i>\n      </a>\n      {place.whatsapp && (\n        <a\n          href={place.whatsapp}\n          className=\"icon-social-network\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n        >\n          <i className=\"fab fa-2x fa-whatsapp\"></i>\n        </a>\n      )}\n      <a\n        href={`mailto:${place.email}?subject=Consulta`}\n        className=\"icon-social-network\"\n      >\n        <i className=\"fa fa-lg fa-envelope\"></i>\n      </a>\n      <a href={`tel:${place.phone_number}`} className=\"icon-social-network\">\n        <i className=\"fa fa-lg fa-phone\"></i>\n      </a>\n    </div>\n  );\n};\n\nexport default Footer;\n","import React, { FC } from \"react\";\n\nimport Page from \"../components/page\";\nimport Header from \"../components/header\";\nimport Footer from \"../components/footer\";\n\nconst HomePage: FC = () => {\n  return (\n    <Page header={<Header />} footer={<Footer />}>\n      Inicio\n    </Page>\n    // <div className=\"mainpage\">\n  );\n};\n\nexport default HomePage;\n","import React, { FC } from \"react\";\n\nimport Page from \"../components/page\";\nimport Header from \"../components/header\";\nimport Footer from \"../components/footer\";\n\nconst ContactPage: FC = () => {\n  return (\n    <Page header={<Header />} footer={<Footer />}>\n      Contacto\n    </Page>\n    // <div className=\"mainpage\">\n  );\n};\n\nexport default ContactPage;\n","import React, { FC } from \"react\";\n\nimport Page from \"../components/page\";\nimport Header from \"../components/header\";\nimport Footer from \"../components/footer\";\n\nconst StorePage: FC = () => {\n  return (\n    <Page header={<Header />} footer={<Footer />}>\n      Tienda\n    </Page>\n    // <div className=\"mainpage\">\n  );\n};\n\nexport default StorePage;\n","import \"./styles/main.css\";\nimport \"@fortawesome/fontawesome-free/js/all\";\nimport React, { Component } from \"react\";\nimport { Switch, Route, BrowserRouter } from \"react-router-dom\";\nimport HomePage from \"./pages/home-page\";\nimport ContactPage from \"./pages/contact-page\";\nimport StorePage from \"./pages/store-page\";\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={HomePage} />\n          <Route path=\"/tienda\" component={StorePage} />\n          <Route exact path=\"/contacto\" component={ContactPage} />\n          {/*<Route component={NotFound}/>*/}\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","import { Reducer } from \"redux\";\nimport { AppState } from \"../reducers\";\nimport * as types from \"./types\";\n\nexport interface State {\n  loading: Record<string, boolean>;\n  error: Record<string, boolean>;\n}\n\nconst initialState = {\n  loading: {},\n  error: {},\n};\n\nexport const uiReducer: Reducer<State> = (\n  state = initialState,\n  { type, payload }\n) => {\n  switch (type) {\n    case types.START:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [payload]: true,\n        },\n        error: {\n          ...state.error,\n          [payload]: undefined,\n        },\n      };\n\n    case types.FINISH:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [payload]: false,\n        },\n        error: {\n          ...state.error,\n          [payload]: undefined,\n        },\n      };\n\n    case types.ERROR:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [payload.name]: false,\n        },\n        error: {\n          ...state.error,\n          [payload.name]: payload.message,\n        },\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const getLoading = (state: AppState) => state.ui.loading;\nexport const getError = (state: AppState) => state.ui.error;\n","export const FETCH_PRODUCTS = \"FECTH_PRODUCTS\";\nexport const FETCH_PROMOTIONS = \"FECTH_PROMOTIONS\";\nexport const FETCH_CATEGORIES = \"FECTH_CATEGORIES\";\nexport const SHOW_PRODUCT_DETAIL = \"SHOW_PRODUCT_DETAIL\";\nexport const FILTER_BY_CATEGORY = \"FILTER_BY_CATEGORY\";\nexport const FILTER_BY_PRODUCT = \"FILTER_BY_PRODUCT\";\n","import { Reducer } from \"redux\";\nimport { AppState } from \"../reducers\";\nimport { Product, Promotion, Category, Filter } from \"../../types\";\nimport * as types from \"./types\";\n\nexport interface State {\n  products: Product[];\n  product: Partial<Product>;\n  promotions: Promotion[];\n  categories: Category[];\n  filter: Filter;\n}\n\nconst initialState: State = {\n  products: [],\n  product: {},\n  promotions: [],\n  categories: [],\n  filter: {},\n};\n\nexport const showcaseReducer: Reducer<State> = (\n  state = initialState,\n  { type, payload }\n) => {\n  switch (type) {\n    case types.FETCH_PRODUCTS:\n      return {\n        ...state,\n        products: payload,\n      };\n    case types.SHOW_PRODUCT_DETAIL:\n      return {\n        ...state,\n        product: payload,\n      };\n    case types.FILTER_BY_PRODUCT:\n    case types.FILTER_BY_CATEGORY:\n      return { ...state, product: {}, filter: payload };\n    case types.FETCH_PROMOTIONS:\n      return { ...state, promotions: payload };\n    default:\n      return state;\n  }\n};\n\n// Define getters from the state\nexport const getProducts = (state: AppState) => state.showcase.products;\nexport const getProduct = (state: AppState) => state.showcase.product;\nexport const getPromotions = (state: AppState) => state.showcase.promotions;\nexport const getCategories = (state: AppState) => state.showcase.categories;\nexport const getFilter = (state: AppState) => state.showcase.filter;\n","export const ADD_CART_ITEM = \"ADD_CART_ITEM\";\nexport const REMOVE_CART_ITEM = \"REMOVE_CART_ITEM\";\nexport const UPDATE_CART_ITEM = \"UPDATE_CART_ITEM\";\nexport const EMPTY_CART = \"EMPTY_CART\";\nexport const SHOW_CART = \"SHOW_CART\";\n","import { Reducer } from \"redux\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { AppState } from \"../reducers\";\nimport { CartItem } from \"../../types\";\nimport * as types from \"./types\";\n\nexport interface State {\n  items: CartItem[];\n  show: boolean;\n}\n\nconst initialState: State = {\n  items: [],\n  show: false,\n};\n\nexport const cartReducer: Reducer<State> = (\n  state = initialState,\n  { type, payload }\n) => {\n  switch (type) {\n    case types.ADD_CART_ITEM:\n      //If the item is not in cart add it\n      let has_item = state.items.some((item) => item.id === payload.id);\n      let items;\n\n      if (!has_item) {\n        const new_item = { ...payload, item_id: uuidv4() };\n        items = state.items.concat(new_item);\n      } else {\n        //If the item already is in the cart, updated\n        items = state.items.map((item) => {\n          if (item.id === payload.item.id) {\n            item.quantity += payload.item.quantity;\n            item.quantity =\n              item.quantity > item.stock ? item.stock : item.quantity;\n          }\n\n          return item;\n        });\n      }\n\n      return { ...state, items };\n\n    case types.REMOVE_CART_ITEM:\n      items = state.items.filter(({ item_id }) => item_id !== payload.id);\n      return { ...state, items };\n\n    case types.UPDATE_CART_ITEM:\n      items = state.items.map((item) => {\n        if (item.item_id === payload.item_id) return { ...item, ...payload };\n        return item;\n      });\n      return { ...state, items };\n\n    case types.EMPTY_CART:\n      return { ...state, items: [] };\n\n    case types.SHOW_CART:\n      return { ...state, ...payload };\n\n    default:\n      return state;\n  }\n};\n\n// Define getters from the state\nexport const getItems = (state: AppState) => state.cart.items;\nexport const getShowCart = (state: AppState) => state.cart.show;\n","import { combineReducers } from \"redux\";\nimport { uiReducer, State as UiState } from \"./ui\";\nimport { showcaseReducer, State as ShowcaseState } from \"./showcase\";\nimport { cartReducer, State as CartState } from \"./cart\";\nimport { placeReducer, State as PlaceState } from \"./place\";\n\nexport interface AppState {\n  ui: UiState;\n  showcase: ShowcaseState;\n  cart: CartState;\n  place: PlaceState;\n}\n\nexport const reducers = combineReducers<AppState>({\n  ui: uiReducer,\n  showcase: showcaseReducer,\n  cart: cartReducer,\n  place: placeReducer,\n});\n","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport { reducers } from \"./reducers\";\n\nfunction saveState(state: Record<string, any>) {\n  try {\n    sessionStorage.setItem(\"storeCache\", JSON.stringify(state));\n  } catch (e) {\n    console.warn(e);\n  }\n}\n\nfunction loadState() {\n  try {\n    const state = sessionStorage.getItem(\"storeCache\");\n    if (state == null) {\n      return undefined;\n    }\n    return JSON.parse(state);\n  } catch (e) {\n    console.warn(e);\n    return undefined;\n  }\n}\n\nconst store = createStore(\n  reducers,\n  loadState(),\n  composeWithDevTools(applyMiddleware(thunk))\n);\n\nstore.subscribe(() => saveState(store.getState()));\n\nexport default store;\n","import \"react-app-polyfill/ie9\";\nimport \"react-app-polyfill/stable\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport store from \"./store\";\n\nconst root = document.getElementById(\"app\");\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  root\n);\n"],"sourceRoot":""}