{"version":3,"sources":["components/page.tsx","components/header.tsx","pages/home-page.tsx","pages/contact-page.tsx","pages/store-page.tsx","App.js","store/ui/types.ts","store/ui/reducer.ts","store/showcase/types.ts","services/http.ts","store/showcase/reducer.ts","store/cart/types.ts","store/cart/reducer.ts","store/reducers.ts","store/index.ts","index.js"],"names":["Page","header","children","footer","fullWidth","className","classNames","Header","src","alt","href","HomePage","ContactPage","StorePage","App","Component","render","exact","path","component","START","FINISH","ERROR","initialState","loading","error","FETCH_PRODUCTS","FETCH_PROMOTIONS","SHOW_PRODUCT_DETAIL","FILTER_BY_CATEGORY","FILTER_BY_PRODUCT","mapData","result","data","handleError","async","response","status","window","location","reload","constructor","axios","defaults","baseURL","token","localStorage","getItem","this","setAuth","headers","common","get","options","then","catch","post","put","patch","delete","products","product","promotions","categories","filter","ADD_CART_ITEM","REMOVE_CART_ITEM","UPDATE_CART_ITEM","EMPTY_CART","SHOW_CART","items","show","reducers","combineReducers","ui","state","type","payload","types","undefined","name","message","showcase","cart","some","item","id","map","quantity","stock","new_item","item_id","uuidv4","concat","store","createStore","sessionStorage","JSON","parse","e","console","warn","loadState","composeWithDevTools","applyMiddleware","thunk","subscribe","setItem","stringify","saveState","getState","root","document","getElementById","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.d3cd3d4f.chunk.js","sourcesContent":["import classNames from \"classnames\";\nimport React, { FC, ReactNode } from \"react\";\n\ntype Props = {\n  header?: ReactNode;\n  footer?: ReactNode;\n  fullWidth?: boolean;\n};\n\nexport const Page: FC<Props> = ({ header, children, footer, fullWidth }) => (\n  <>\n    <div\n      className={classNames(\"mx-auto h-full overflow-auto px-2\", {\n        \"container max-w-screen-xl\": !fullWidth,\n        \"w-full max-page-width\": fullWidth,\n      })}\n    >\n      {header && <div className=\"py-4\">{header}</div>}\n      <div className=\"flex flex-col flex-1 overflow-auto pt-4\">{children}</div>\n    </div>\n    {footer && <>{footer}</>}\n  </>\n);\nexport default Page;\n","import React, { FC } from \"react\";\n\nexport const Header: FC = () => {\n  return (\n    <div className=\"header-main\">\n      <div className=\"header-contact background-fruits--transparent\">\n        <img className=\"header-logo\" src=\"{{logo}}\" alt=\"\" />\n      </div>\n      <nav className=\"header-nav-bar\">\n        <div className=\"header-menu--mobile\">\n          <span className=\"icon header-menu-icon--mobile\">\n            <i className=\"fas fa-bars\"></i>\n          </span>\n          <p className=\"header-menu__title\">MENU</p>\n        </div>\n        <ul className=\"header-menu\">\n          <li className=\"header-menu__item\">\n            <a className=\"header-menu__link\" href=\"\\\">\n              inicio\n            </a>\n          </li>\n          <li className=\"header-menu__item\">\n            <a className=\"header-menu__link\" href=\"\\tienda\">\n              tienda\n            </a>\n          </li>\n          <li className=\"header-menu__item\">\n            <a className=\"header-menu__link\" href=\"\\contacto\">\n              contacto\n            </a>\n          </li>\n        </ul>\n      </nav>\n    </div>\n  );\n};\n\nexport default Header;\n","import React, { FC } from \"react\";\n\nimport Page from \"../components/page\";\nimport Header from \"../components/header\";\n\nconst HomePage: FC = () => {\n  return (\n    <Page header={<Header />}>Inicio</Page>\n    // <div className=\"mainpage\">\n  );\n};\n\nexport default HomePage;\n","import React, { FC } from \"react\";\n\nimport Page from \"../components/page\";\nimport Header from \"../components/header\";\n\nconst ContactPage: FC = () => {\n  return (\n    <Page header={<Header />}>Contacto</Page>\n    // <div className=\"mainpage\">\n  );\n};\n\nexport default ContactPage;\n","import React, { FC } from \"react\";\n\nimport Page from \"../components/page\";\nimport Header from \"../components/header\";\n\nconst StorePage: FC = () => {\n  return (\n    <Page header={<Header />}>Tienda</Page>\n    // <div className=\"mainpage\">\n  );\n};\n\nexport default StorePage;\n","import \"./styles/main.css\";\nimport \"@fortawesome/fontawesome-free/js/all\";\nimport React, { Component } from \"react\";\nimport { Switch, Route, BrowserRouter } from \"react-router-dom\";\nimport HomePage from \"./pages/home-page\";\nimport ContactPage from \"./pages/contact-page\";\nimport StorePage from \"./pages/store-page\";\n\nclass App extends Component {\n  render() {\n    return (\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={HomePage} />\n          <Route path=\"/tienda\" component={StorePage} />\n          <Route exact path=\"/contacto\" component={ContactPage} />\n          {/*<Route component={NotFound}/>*/}\n        </Switch>\n      </BrowserRouter>\n    );\n  }\n}\n\nexport default App;\n","export const START = \"START\";\nexport const FINISH = \"FINISH\";\nexport const ERROR = \"ERROR\";\n","import { Reducer } from \"redux\";\nimport { AppState } from \"../reducers\";\nimport * as types from \"./types\";\n\nexport interface State {\n  loading: Record<string, boolean>;\n  error: Record<string, boolean>;\n}\n\nconst initialState = {\n  loading: {},\n  error: {},\n};\n\nexport const uiReducer: Reducer<State> = (\n  state = initialState,\n  { type, payload }\n) => {\n  switch (type) {\n    case types.START:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [payload]: true,\n        },\n        error: {\n          ...state.error,\n          [payload]: undefined,\n        },\n      };\n\n    case types.FINISH:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [payload]: false,\n        },\n        error: {\n          ...state.error,\n          [payload]: undefined,\n        },\n      };\n\n    case types.ERROR:\n      return {\n        ...state,\n        loading: {\n          ...state.loading,\n          [payload.name]: false,\n        },\n        error: {\n          ...state.error,\n          [payload.name]: payload.message,\n        },\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport const getLoading = (state: AppState) => state.ui.loading;\nexport const getError = (state: AppState) => state.ui.error;\n","export const FETCH_PRODUCTS = \"FECTH_PRODUCTS\";\nexport const FETCH_PROMOTIONS = \"FECTH_PROMOTIONS\";\nexport const FETCH_CATEGORIES = \"FECTH_CATEGORIES\";\nexport const SHOW_PRODUCT_DETAIL = \"SHOW_PRODUCT_DETAIL\";\nexport const FILTER_BY_CATEGORY = \"FILTER_BY_CATEGORY\";\nexport const FILTER_BY_PRODUCT = \"FILTER_BY_PRODUCT\";\n","import axios, { AxiosRequestConfig, AxiosResponse } from \"axios\";\n// import { logout } from \"../actions/dashboardActions\";\n\ntype Data = Record<string, any>;\n\nconst mapData = (result: AxiosResponse<any>) => result.data;\n\nconst handleError = async (error: Error & { response: AxiosResponse<any> }) => {\n  if (error.response.status === 401) {\n    // await store.dispatch(logout() as any);\n    window.location.reload(true);\n  }\n\n  throw error;\n};\n\nexport class Http {\n  public constructor() {\n    axios.defaults.baseURL = \"/api\";\n    const token = localStorage.getItem(\"token\") ?? \"\";\n    this.setAuth(token);\n  }\n\n  public setAuth(token: string) {\n    if (token) {\n      axios.defaults.headers.common[\"authorization\"] = `JWT ${token}`;\n    } else {\n      delete axios.defaults.headers.common[\"authorization\"];\n    }\n  }\n\n  public get(path: string, options: AxiosRequestConfig = {}) {\n    return axios.get(path, options).then(mapData).catch(handleError);\n  }\n\n  public post(path: string, data: Data, options: AxiosRequestConfig = {}) {\n    return axios.post(path, data, options).then(mapData).catch(handleError);\n  }\n\n  public put(path: string, data: Data, options: AxiosRequestConfig = {}) {\n    return axios.put(path, data, options).then(mapData).catch(handleError);\n  }\n\n  public patch(path: string, data: Data, options: AxiosRequestConfig = {}) {\n    return axios.patch(path, data, options).then(mapData).catch(handleError);\n  }\n\n  public delete(path: string, options: AxiosRequestConfig = {}) {\n    return axios.delete(path, options).then(mapData).catch(handleError);\n  }\n}\n\nexport const http = new Http();\n\nexport const apiRoutes = {\n  products: \"api/products/\",\n  categories: \"api/category/\",\n  promotions: \"api/promotion/\",\n};\n","import { Reducer } from \"redux\";\nimport { AppState } from \"../reducers\";\nimport { Product, Promotion, Category, Filter } from \"../../types\";\nimport * as types from \"./types\";\n\nexport interface State {\n  products: Product[];\n  product: Partial<Product>;\n  promotions: Promotion[];\n  categories: Category[];\n  filter: Filter;\n}\n\nconst initialState: State = {\n  products: [],\n  product: {},\n  promotions: [],\n  categories: [],\n  filter: {},\n};\n\nexport const showcaseReducer: Reducer<State> = (\n  state = initialState,\n  { type, payload }\n) => {\n  switch (type) {\n    case types.FETCH_PRODUCTS:\n      return {\n        ...state,\n        products: payload,\n      };\n    case types.SHOW_PRODUCT_DETAIL:\n      return {\n        ...state,\n        product: payload,\n      };\n    case types.FILTER_BY_PRODUCT:\n    case types.FILTER_BY_CATEGORY:\n      return { ...state, product: {}, filter: payload };\n    case types.FETCH_PROMOTIONS:\n      return { ...state, promotions: payload };\n    default:\n      return state;\n  }\n};\n\n// Define getters from the state\nexport const getProducts = (state: AppState) => state.showcase.products;\nexport const getProduct = (state: AppState) => state.showcase.product;\nexport const getPromotions = (state: AppState) => state.showcase.promotions;\nexport const getCategories = (state: AppState) => state.showcase.categories;\nexport const getFilter = (state: AppState) => state.showcase.filter;\n","export const ADD_CART_ITEM = \"ADD_CART_ITEM\";\nexport const REMOVE_CART_ITEM = \"REMOVE_CART_ITEM\";\nexport const UPDATE_CART_ITEM = \"UPDATE_CART_ITEM\";\nexport const EMPTY_CART = \"EMPTY_CART\";\nexport const SHOW_CART = \"SHOW_CART\";\n","import { Reducer } from \"redux\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { AppState } from \"../reducers\";\nimport { CartItem } from \"../../types\";\nimport * as types from \"./types\";\n\nexport interface State {\n  items: CartItem[];\n  show: boolean;\n}\n\nconst initialState: State = {\n  items: [],\n  show: false,\n};\n\nexport const cartReducer: Reducer<State> = (\n  state = initialState,\n  { type, payload }\n) => {\n  switch (type) {\n    case types.ADD_CART_ITEM:\n      //If the item is not in cart add it\n      let has_item = state.items.some((item) => item.id === payload.id);\n      let items;\n\n      if (!has_item) {\n        const new_item = { ...payload, item_id: uuidv4() };\n        items = state.items.concat(new_item);\n      } else {\n        //If the item already is in the cart, updated\n        items = state.items.map((item) => {\n          if (item.id === payload.item.id) {\n            item.quantity += payload.item.quantity;\n            item.quantity =\n              item.quantity > item.stock ? item.stock : item.quantity;\n          }\n\n          return item;\n        });\n      }\n\n      return { ...state, items };\n\n    case types.REMOVE_CART_ITEM:\n      items = state.items.filter(({ item_id }) => item_id !== payload.id);\n      return { ...state, items };\n\n    case types.UPDATE_CART_ITEM:\n      items = state.items.map((item) => {\n        if (item.item_id === payload.item_id) return { ...item, ...payload };\n        return item;\n      });\n      return { ...state, items };\n\n    case types.EMPTY_CART:\n      return { ...state, items: [] };\n\n    case types.SHOW_CART:\n      return { ...state, ...payload };\n\n    default:\n      return state;\n  }\n};\n\n// Define getters from the state\nexport const getItems = (state: AppState) => state.cart.items;\nexport const getShowCart = (state: AppState) => state.cart.show;\n","import { combineReducers } from \"redux\";\nimport { uiReducer, State as UiState } from \"./ui\";\nimport { showcaseReducer, State as ShowcaseState } from \"./showcase\";\nimport { cartReducer, State as CartState } from \"./cart\";\n\nexport interface AppState {\n  ui: UiState;\n  showcase: ShowcaseState;\n  cart: CartState;\n}\n\nexport const reducers = combineReducers<AppState>({\n  ui: uiReducer,\n  showcase: showcaseReducer,\n  cart: cartReducer,\n});\n","import { createStore, applyMiddleware } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunk from \"redux-thunk\";\nimport { reducers } from \"./reducers\";\n\nfunction saveState(state: Record<string, any>) {\n  try {\n    sessionStorage.setItem(\"storeCache\", JSON.stringify(state));\n  } catch (e) {\n    console.warn(e);\n  }\n}\n\nfunction loadState() {\n  try {\n    const state = sessionStorage.getItem(\"storeCache\");\n    if (state == null) {\n      return undefined;\n    }\n    return JSON.parse(state);\n  } catch (e) {\n    console.warn(e);\n    return undefined;\n  }\n}\n\nconst store = createStore(\n  reducers,\n  loadState(),\n  composeWithDevTools(applyMiddleware(thunk))\n);\n\nstore.subscribe(() => saveState(store.getState()));\n\nexport default store;\n","import \"react-app-polyfill/ie9\";\nimport \"react-app-polyfill/stable\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App\";\nimport store from \"./store\";\n\nconst root = document.getElementById(\"app\");\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  root\n);\n"],"sourceRoot":""}